<div style="max-width: 935px; margin: 0 auto; padding: 30px 20px;">
  <%= link_to "‚Üê „Çø„Ç§„É†„É©„Ç§„É≥„Å´Êàª„Çã", posts_path,
              style: "display: inline-block; margin-bottom: 20px; color: #0095f6; text-decoration: none; font-weight: 600;" %>

  <div style="background: white; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); overflow: hidden;">
    <!-- ÊäïÁ®ø„Éò„ÉÉ„ÉÄ„Éº -->
    <div style="display: flex; align-items: center; padding: 14px 16px; border-bottom: 1px solid #efefef;">
      <%= link_to profile_path(@post.user.username),
                  style: "display: flex; align-items: center; text-decoration: none; color: #262626;" do %>
        <%= image_tag @post.user.profile_image_url,
                      style: "width: 40px; height: 40px; border-radius: 50%; object-fit: cover; margin-right: 12px;" %>
        <div>
          <div style="font-weight: 600; font-size: 15px;"><%= @post.user.username %></div>
          <div style="font-size: 12px; color: #8e8e8e;"><%= @post.created_at.strftime("%YÂπ¥%mÊúà%dÊó• %H:%M") %></div>
        </div>
      <% end %>
    </div>

    <!-- ÁîªÂÉè -->
    <% if @post.images.attached? %>
      <div>
        <% @post.images.each do |image| %>
          <div style="margin-bottom: 10px;">
            <%= image_tag image, style: "width: 100%; display: block;" %>
          </div>
        <% end %>
      </div>
    <% end %>

    <!-- „Ç¢„ÇØ„Ç∑„Éß„É≥ -->
    <div style="padding: 12px 16px; border-bottom: 1px solid #efefef;">
      <div id="like-button-<%= @post.id %>" style="display: flex; gap: 16px; align-items: center;">
        <%= render "posts/like_button", post: @post %>
        <span style="font-size: 28px;">üí¨ <%= @post.comments.count %></span>
        <%= link_to "https://twitter.com/intent/tweet?text=#{CGI.escape(@post.content.to_s.truncate(100))}&url=#{CGI.escape(post_url(@post))}",
                    target: "_blank",
                    style: "text-decoration: none; font-size: 28px;" do %>
          üîó
        <% end %>
      </div>
    </div>

    <!-- „Ç≠„É£„Éó„Ç∑„Éß„É≥ -->
    <div style="padding: 16px; border-bottom: 1px solid #efefef;">
      <div style="margin-bottom: 12px;">
        <strong style="font-weight: 600; margin-right: 8px; font-size: 15px;"><%= @post.user.username %></strong>
        <span style="font-size: 15px;"><%= @post.content %></span>
      </div>
      <div style="font-size: 12px; color: #8e8e8e; margin-bottom: 12px;">
        <%= time_ago_in_words(@post.created_at) %>Ââç
      </div>
      <% if @post.user == current_user %>
        <%= link_to "„Åì„ÅÆÊäïÁ®ø„ÇíÂâäÈô§", post_path(@post),
                    data: { turbo_method: :delete, turbo_confirm: "Êú¨ÂΩì„Å´ÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü" },
                    style: "display: inline-block; padding: 8px 16px; background: #ed4956; color: white; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 14px;" %>
      <% end %>
    </div>

    <!-- „Ç≥„É°„É≥„Éà‰∏ÄË¶ß -->
    <div id="comments-list" style="max-height: 400px; overflow-y: auto;">
      <%= render @post.comments.recent %>
    </div>

    <!-- „Ç≥„É°„É≥„Éà„Éï„Ç©„Éº„É† -->
    <div style="padding: 16px; border-top: 1px solid #efefef;">
      <%= form_with model: [@post, Comment.new], remote: true, html: { id: "comment-form-#{@post.id}" } do |f| %>
        <div style="display: flex; gap: 10px; align-items: flex-start;">
          <%= image_tag current_user.profile_image_url,
                        style: "width: 32px; height: 32px; border-radius: 50%; object-fit: cover;" %>
          <div style="flex: 1;">
            <%= f.text_area :content,
                            placeholder: "„Ç≥„É°„É≥„Éà„ÇíËøΩÂä†... (@„É¶„Éº„Ç∂„ÉºÂêç „Åß„É°„É≥„Ç∑„Éß„É≥)",
                            rows: 1,
                            style: "width: 100%; padding: 8px; border: 1px solid #dbdbdb; border-radius: 4px; font-size: 14px; resize: none; box-sizing: border-box;" %>
          </div>
          <%= f.submit "ÊäïÁ®ø", style: "padding: 8px 16px; background: #0095f6; color: white; border: none; border-radius: 8px; font-weight: 600; font-size: 14px; cursor: pointer;" %>
        </div>
      <% end %>
    </div>
  </div>
</div>