<div style="max-width: 600px; margin: 0 auto; padding: 30px 20px;">
  <div style="background: white; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); padding: 40px;">
    <h2 style="font-size: 24px; font-weight: 400; margin-bottom: 30px; text-align: center;">新規投稿</h2>

    <%= form_with model: @post, url: posts_path, local: true do |f| %>
      
      <!-- エラーメッセージ -->
      <% if @post.errors.any? %>
        <div style="background: #fee; border: 1px solid #fcc; border-radius: 4px; padding: 15px; margin-bottom: 20px;">
          <h3 style="color: #c00; font-size: 14px; margin: 0 0 10px 0;"><%= pluralize(@post.errors.count, "error") %> prohibited this post from being saved:</h3>
          <ul style="margin: 0; padding-left: 20px;">
            <% @post.errors.full_messages.each do |message| %>
              <li style="color: #c00; font-size: 13px;"><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <!-- 画像選択 -->
      <div style="margin-bottom: 20px;">
        <%= f.label :images, "画像を選択（複数可）", style: "display: block; font-weight: 600; margin-bottom: 8px; font-size: 14px;" %>
        <%= f.file_field :images, 
                         multiple: true,
                         accept: "image/*",
                         style: "width: 100%; padding: 10px; border: 1px solid #dbdbdb; border-radius: 4px; font-size: 14px; box-sizing: border-box;" %>
        <p style="color: #8e8e8e; font-size: 12px; margin-top: 5px;">複数の画像を選択できます</p>
      </div>

      <!-- キャプション -->
      <div style="margin-bottom: 30px;">
        <%= f.label :content, "キャプション", style: "display: block; font-weight: 600; margin-bottom: 8px; font-size: 14px;" %>
        <%= f.text_area :content, 
                        rows: 5,
                        placeholder: "キャプションを入力...",
                        style: "width: 100%; padding: 10px; border: 1px solid #dbdbdb; border-radius: 4px; font-size: 14px; box-sizing: border-box; resize: vertical;" %>
      </div>

      <!-- ボタン -->
      <div style="display: flex; gap: 10px;">
        <%= f.submit "投稿する", style: "flex: 1; padding: 10px; background: #0095f6; color: white; border: none; border-radius: 8px; font-weight: 600; font-size: 14px; cursor: pointer;" %>
        <%= link_to "キャンセル", posts_path, 
                    style: "flex: 1; padding: 10px; background: #efefef; color: #262626; border: 1px solid #dbdbdb; border-radius: 8px; text-align: center; text-decoration: none; font-weight: 600; font-size: 14px; display: block; box-sizing: border-box; line-height: 1.5;" %>
      </div>
    <% end %>
  </div>
</div>